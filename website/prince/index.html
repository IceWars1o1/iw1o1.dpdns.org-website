<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>小王子 The Little Prince</title>
    <style>
        body {
            margin: 0;
            font-family: Arial, sans-serif;
        }

        img {
            display: block;
            /* 每张图片独占一行 */
            margin: 10px auto;
            /* 水平居中，上下有间距 */
            max-width: 100%;
            /* 确保图片不会超出容器宽度 */
            height: auto;
            /* 保持图片的宽高比例 */
        }

        footer {
            background-color: #fff;
            border-top: 1px solid #ddd;
            /* Top border */
            padding: 2rem 0;
            text-align: center;
            margin-top: 2rem;
            /* Space between content and footer */
        }

        .footer-content {
            display: flex;
            justify-content: space-around;
            align-items: flex-start;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 2rem;
        }

        .footer-section {
            flex: 1;
            text-align: left;
        }

        .footer-section h3 {
            margin-bottom: 0.5rem;
            color: #333;
        }

        .footer-section p {
            margin: 0.5rem 0;
            color: #666;
        }

        .footer-section a {
            display: inline-block;
            margin: 0.5rem 0;
            color: #007bff;
            text-decoration: none;
        }

        .footer-section a:hover {
            text-decoration: underline;
        }

        .sidebar {
            position: fixed;
            top: 80px;
            left: 10px;
            width: 180px;
            height: 320px;
            background: #fff;
            overflow-y: auto;
            border-radius: 5px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.5);
            box-sizing: border-box;
            transition: all 0.3s ease;
            /* 添加宽度变化的过渡效果 */
        }

        .sidebar h2 {
            left: 10px;
            font-size: 1.25rem;
            margin-bottom: 10px;
        }

        .sidebar ul {
            padding: 5px 20px;
            list-style: none;
        }

        .sidebar ul li a {
            text-decoration: none;
            color: #000;
            font-size: 1rem;
            display: block;
            margin-bottom: 5px;
        }

        .sidebar ul li a:hover {
            text-decoration: underline;
        }

        .toggle-sidebar {
            position: absolute;
            top: 18px;
            right: 18px;
            background: linear-gradient(to right, rgba(99, 226, 183, 0.75), rgba(42, 148, 125, 0.8));
            color: #fff;
            border: none;
            border-radius: 5px;
            padding: 5px 10px;
            cursor: pointer;
            font-size: 1rem;
            transition: all 0.3s ease;
        }

        .sidebar-header {
            display: flex;
            width: 120px;
            position: sticky;
            background-color: #fff;
            top: 0px;
            left: 0px;
            right: 0px;
            padding: 5px 20px;
            border-bottom: 1px solid #ddd;
            /* 分割线 */
            z-index: 10;
            /* 确保在滚动时不会被遮挡 */
        }

        .sidebar.collapsed {
            width: 40px;
            /* 折叠后的宽度 */
            height: 40px;
            overflow: hidden;
            /* 隐藏内容 */
        }

        .sidebar.collapsed h2,
        .sidebar.collapsed ul {
            display: none;
            /* 隐藏标题和列表 */
        }

        .sidebar.collapsed .toggle-sidebar {
            right: 123px;
            /* 调整按钮位置 */
            top: 5px;
        }

        .sidebar.collapsed .sidebar-header {
            border-bottom: 0px solid #fff;
        }
    </style>
</head>

<body>
    <div class="sidebar">
        <div class="sidebar-header">
            <h2>目录</h2>
            <button class="toggle-sidebar">☰</button> <!-- 折叠按钮 -->
        </div>
        <ul>
            <li><a href="#1">Chapter 1</a></li>
            <li><a href="#2">Chapter 2</a></li>
            <li><a href="#3">Chapter 3</a></li>
            <li><a href="#4">Chapter 4</a></li>
            <li><a href="#5">Chapter 5</a></li>
            <li><a href="#6">Chapter 6</a></li>
            <li><a href="#7">Chapter 7</a></li>
            <li><a href="#8">Chapter 8</a></li>
            <li><a href="#9">Chapter 9</a></li>
            <li><a href="#10">Chapter 10</a></li>
            <li><a href="#11">Chapter 11</a></li>
            <li><a href="#12">Chapter 12</a></li>
            <li><a href="#13">Chapter 13</a></li>
            <li><a href="#14">Chapter 14</a></li>
            <li><a href="#15">Chapter 15</a></li>
            <li><a href="#16">Chapter 16</a></li>
            <li><a href="#17">Chapter 17</a></li>
            <li><a href="#18">Chapter 18</a></li>
            <li><a href="#19">Chapter 19</a></li>
            <li><a href="#20">Chapter 20</a></li>
            <li><a href="#21">Chapter 21</a></li>
            <li><a href="#22">Chapter 22</a></li>
            <li><a href="#23">Chapter 23</a></li>
            <li><a href="#24">Chapter 24</a></li>
            <li><a href="#25">Chapter 25</a></li>
            <li><a href="#26">Chapter 26</a></li>
            <li><a href="#27">Chapter 27</a></li>
        </ul>
    </div>
    <div id="image-container">
        <!-- 动态生成图片 -->
        <script>
            // 获取图片容器
            const container = document.getElementById('image-container');

            // 图片数量
            const totalImages = 160;

            // 指定图片编号
            const specialImages = [1, 7, 13, 17, 23, 29, 31, 38, 45, 49, 60, 63, 65, 74, 81, 90, 93, 99, 101, 104, 107, 121, 124, 126, 133, 142, 157];
            // 当前锚点计数
            let chapterCount = 1;

            // 循环生成图片
            for (let i = 1; i <= totalImages; i++) {
                // 创建图片元素
                const img = document.createElement('img');
                // 设置图片的src属性
                img.src = `https://prince.iw1o1.dpdns.org/res/${i.toString().padStart(3, '0')}.jpg`;
                img.style.width = '80%';
                img.style.height = '80%';

                // 检查是否需要添加标题和锚点
                if (specialImages.includes(i)) {
                    // 创建标题元素
                    const title = document.createElement('h3');
                    title.id = `${chapterCount}`; // 设置锚点
                    title.textContent = `Chapter ${chapterCount}`; // 设置显示名称
                    container.appendChild(title); // 将标题添加到容器中

                    // 创建iframe元素
                    const iframe = document.createElement('iframe');
                    iframe.src = `https://player.bilibili.com/player.html?bvid=BV1H64y1f73s&p=${chapterCount + 1}&danmaku=0&autoplay=0`;
                    iframe.frameBorder = '0'; // 去掉边框
                    iframe.style.display = 'block'; // 确保视频独占一行
                    iframe.style.margin = '10px auto'; // 添加外边距
                    iframe.style.width = '80%'; // 设置宽度为容器宽度
                    iframe.style.height = '80%'; // 初始高度
                    iframe.style.aspectRatio = '16 / 9'; // 设置宽高比为16:9
                    container.appendChild(iframe); // 将iframe添加到容器中
                    chapterCount ++; 
                }
                // 增加锚点计数

                // 将图片添加到容器中
                container.appendChild(img);
            }

        </script>
    </div>
    <footer>
        <div class="footer-content">
            <div class="footer-section">
                <h3>Legal</h3>
                <p>Copyright © 2025 IceWars1o1.</p>
                <p>This project is licensed under the <a href="https://iw1o1.dpdns.org/copyright">MIT License</a>.</p>
            </div>
        </div>
    </footer>
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const sidebar = document.querySelector(".sidebar");
            const toggleButton = document.querySelector(".toggle-sidebar");

            // 切换折叠状态
            toggleButton.addEventListener("click", function () {
                sidebar.classList.toggle("collapsed");
            });
        }) 
    </script>
</body>

</html>